<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Operational Data Graphics | Full Demo</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0D0D0E;
      color: #D9D9E0;
      line-height: 1.6;
    }
    
    /* Sticky Navigation */
    nav {
      position: sticky;
      top: 0;
      background: rgba(13, 13, 14, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid #33353A;
      padding: 1rem 2rem;
      z-index: 100;
    }
    
    nav .container {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    nav h1 {
      font-size: 1.125rem;
      font-weight: 500;
      color: #D9D9E0;
    }
    
    nav .links {
      display: flex;
      gap: 1.5rem;
    }
    
    nav a {
      color: #999AA6;
      text-decoration: none;
      font-size: 0.875rem;
      transition: color 0.2s;
    }
    
    nav a:hover {
      color: #3B82F5;
    }
    
    nav a.active {
      color: #3B82F5;
    }
    
    /* Main Content */
    main {
      max-width: 1400px;
      margin: 0 auto;
      padding: 3rem 2rem;
    }
    
    .hero {
      margin-bottom: 4rem;
      padding-bottom: 3rem;
      border-bottom: 1px solid #33353A;
    }
    
    .hero h2 {
      font-size: 2.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: #D9D9E0;
    }
    
    .hero p {
      font-size: 1.125rem;
      color: #999AA6;
      max-width: 700px;
      line-height: 1.7;
    }
    
    /* Chart Sections */
    .chart-section {
      margin-bottom: 5rem;
      scroll-margin-top: 80px;
    }
    
    .chart-header {
      margin-bottom: 2rem;
    }
    
    .chart-number {
      display: inline-block;
      background: #22BF4A;
      color: #0D0D0E;
      font-size: 0.75rem;
      font-weight: 600;
      padding: 4px 10px;
      border-radius: 4px;
      margin-bottom: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .chart-header h3 {
      font-size: 1.75rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: #D9D9E0;
    }
    
    .chart-header p {
      color: #999AA6;
      font-size: 0.95rem;
    }
    
    .chart-container {
      background: #171719;
      border: 1px solid #33353A;
      border-radius: 8px;
      padding: 2rem;
    }
    
    /* Footer */
    footer {
      max-width: 1400px;
      margin: 0 auto;
      padding: 3rem 2rem;
      border-top: 1px solid #33353A;
      text-align: center;
      color: #999AA6;
      font-size: 0.875rem;
    }
    
    footer a {
      color: #3B82F5;
      text-decoration: none;
    }
    
    footer a:hover {
      text-decoration: underline;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      nav .links {
        gap: 1rem;
        flex-wrap: wrap;
      }
      
      .hero h2 {
        font-size: 1.75rem;
      }
      
      .chart-header h3 {
        font-size: 1.25rem;
      }
      
      .chart-container {
        padding: 1rem;
        overflow-x: auto;
      }
    }
  </style>
</head>
<body>
  <nav>
    <div class="container">
      <h1>Operational Data Graphics</h1>
      <div class="links">
        <a href="#chart1">Time-Series</a>
        <a href="#chart2">Multi-Series</a>
        <a href="#chart4">Histogram</a>
        <a href="#chart6">Status Timeline</a>
        <a href="index.html">← All Charts</a>
      </div>
    </div>
  </nav>

  <main>
    <div class="hero">
      <h2>Full Chart Demo</h2>
      <p>
        High-signal, low-noise data graphics designed for operational monitoring. 
        Built with full Vega to demonstrate systems-level design thinking and implementation credibility.
      </p>
    </div>

    <!-- Chart 1 -->
    <section id="chart1" class="chart-section">
      <div class="chart-header">
        <span class="chart-number">Chart 01</span>
        <h3>High-Density Time-Series Line Chart</h3>
        <p>Continuous metric trends over time with minimal visual noise. Perfect for CPU, memory, and latency monitoring.</p>
      </div>
      <div class="chart-container">
        <div id="vis1"></div>
      </div>
    </section>

    <!-- Chart 2 -->
    <section id="chart2" class="chart-section">
      <div class="chart-header">
        <span class="chart-number">Chart 02</span>
        <h3>Multi-Series Comparison Line Chart</h3>
        <p>Compare 2-5 related metrics simultaneously. Ideal for environment comparison, regional metrics, and service health.</p>
      </div>
      <div class="chart-container">
        <div id="vis2"></div>
      </div>
    </section>

    <!-- Chart 4 -->
    <section id="chart4" class="chart-section">
      <div class="chart-header">
        <span class="chart-number">Chart 04</span>
        <h3>Histogram / Distribution</h3>
        <p>Frequency distribution of continuous variables. Shows latency percentiles, request sizes, and error patterns.</p>
      </div>
      <div class="chart-container">
        <div id="vis4"></div>
      </div>
    </section>

    <!-- Chart 6 -->
    <section id="chart6" class="chart-section">
      <div class="chart-header">
        <span class="chart-number">Chart 06</span>
        <h3>Status Timeline (Health Bands)</h3>
        <p>System health states over time. Visualizes service uptime, incident timelines, and deployment status.</p>
      </div>
      <div class="chart-container">
        <div id="vis6"></div>
      </div>
    </section>
  </main>

  <footer>
    <p>
      Built with <a href="https://vega.github.io/vega/" target="_blank">Vega</a> • 
      <a href="index.html">View Chart Index</a> • 
      <a href="../README.md">Documentation</a>
    </p>
  </footer>

  <script>
    // Chart 1: High-Density Time-Series Line Chart
    const spec1 = {
      "$schema": "https://vega.github.io/schema/vega/v5.json",
      "description": "High-density time-series line chart for operational metrics",
      "width": 1000,
      "height": 300,
      "padding": {"top": 10, "left": 60, "right": 20, "bottom": 40},
      "background": "#171719",
      
      "data": [
        {
          "name": "table",
          "values": [
            {"time": "00:00", "value": 45.2, "series": "Production"},
            {"time": "02:00", "value": 48.1, "series": "Production"},
            {"time": "04:00", "value": 52.3, "series": "Production"},
            {"time": "06:00", "value": 68.5, "series": "Production"},
            {"time": "08:00", "value": 82.4, "series": "Production"},
            {"time": "10:00", "value": 78.9, "series": "Production"},
            {"time": "12:00", "value": 85.2, "series": "Production"},
            {"time": "14:00", "value": 79.8, "series": "Production"},
            {"time": "16:00", "value": 72.4, "series": "Production"},
            {"time": "18:00", "value": 65.1, "series": "Production"},
            {"time": "20:00", "value": 58.3, "series": "Production"},
            {"time": "22:00", "value": 51.2, "series": "Production"},
            {"time": "24:00", "value": 46.8, "series": "Production"}
          ]
        }
      ],
      
      "scales": [
        {
          "name": "x",
          "type": "point",
          "domain": {"data": "table", "field": "time"},
          "range": "width",
          "padding": 0.5
        },
        {
          "name": "y",
          "type": "linear",
          "domain": [0, 100],
          "range": "height",
          "nice": true,
          "zero": true
        }
      ],
      
      "axes": [
        {
          "orient": "bottom",
          "scale": "x",
          "labelColor": "#999AA6",
          "labelFontSize": 11,
          "labelFont": "Inter, sans-serif",
          "labelPadding": 8,
          "tickColor": "#4D4E56",
          "tickSize": 5,
          "domain": false,
          "grid": false,
          "title": null
        },
        {
          "orient": "left",
          "scale": "y",
          "labelColor": "#999AA6",
          "labelFontSize": 11,
          "labelFont": "Inter, sans-serif",
          "labelPadding": 8,
          "tickColor": "#4D4E56",
          "tickSize": 5,
          "tickCount": 5,
          "domain": false,
          "grid": true,
          "gridColor": "#4D4E56",
          "gridOpacity": 0.4,
          "title": null
        }
      ],
      
      "marks": [
        {
          "type": "line",
          "from": {"data": "table"},
          "encode": {
            "enter": {
              "x": {"scale": "x", "field": "time"},
              "y": {"scale": "y", "field": "value"},
              "stroke": {"value": "#3B82F5"},
              "strokeWidth": {"value": 2}
            }
          }
        },
        {
          "type": "symbol",
          "from": {"data": "table"},
          "encode": {
            "enter": {
              "x": {"scale": "x", "field": "time"},
              "y": {"scale": "y", "field": "value"},
              "fill": {"value": "#3B82F5"},
              "size": {"value": 50},
              "stroke": {"value": "#171719"},
              "strokeWidth": {"value": 2}
            },
            "update": {
              "fillOpacity": {"value": 1}
            },
            "hover": {
              "fillOpacity": {"value": 0.7}
            }
          }
        }
      ]
    };

    // Chart 2: Multi-Series Comparison Line Chart
    const spec2 = {
      "$schema": "https://vega.github.io/schema/vega/v5.json",
      "description": "Multi-series comparison line chart",
      "width": 1000,
      "height": 350,
      "padding": {"top": 10, "left": 60, "right": 20, "bottom": 40},
      "background": "#171719",
      
      "data": [
        {
          "name": "table",
          "values": [
            {"week": "Week 1", "Production": 1245, "Staging": 892, "Development": 445},
            {"week": "Week 2", "Production": 1389, "Staging": 945, "Development": 478},
            {"week": "Week 3", "Production": 1502, "Staging": 1023, "Development": 512},
            {"week": "Week 4", "Production": 1456, "Staging": 998, "Development": 489}
          ],
          "transform": [
            {
              "type": "fold",
              "fields": ["Production", "Staging", "Development"],
              "as": ["series", "value"]
            }
          ]
        }
      ],
      
      "scales": [
        {
          "name": "x",
          "type": "point",
          "domain": {"data": "table", "field": "week"},
          "range": "width",
          "padding": 0.5
        },
        {
          "name": "y",
          "type": "linear",
          "domain": {"data": "table", "field": "value"},
          "range": "height",
          "nice": true,
          "zero": true
        },
        {
          "name": "color",
          "type": "ordinal",
          "domain": ["Production", "Staging", "Development"],
          "range": ["#3B82F5", "#22BF4A", "#F2CB05"]
        }
      ],
      
      "axes": [
        {
          "orient": "bottom",
          "scale": "x",
          "labelColor": "#999AA6",
          "labelFontSize": 11,
          "labelFont": "Inter, sans-serif",
          "labelPadding": 8,
          "tickColor": "#4D4E56",
          "tickSize": 5,
          "domain": false,
          "grid": false,
          "title": null
        },
        {
          "orient": "left",
          "scale": "y",
          "labelColor": "#999AA6",
          "labelFontSize": 11,
          "labelFont": "Inter, sans-serif",
          "labelPadding": 8,
          "tickColor": "#4D4E56",
          "tickSize": 5,
          "tickCount": 5,
          "domain": false,
          "grid": true,
          "gridColor": "#4D4E56",
          "gridOpacity": 0.4,
          "title": null
        }
      ],
      
      "marks": [
        {
          "type": "group",
          "from": {
            "facet": {
              "name": "series",
              "data": "table",
              "groupby": "series"
            }
          },
          "marks": [
            {
              "type": "line",
              "from": {"data": "series"},
              "encode": {
                "enter": {
                  "x": {"scale": "x", "field": "week"},
                  "y": {"scale": "y", "field": "value"},
                  "stroke": {"scale": "color", "field": "series"},
                  "strokeWidth": {"value": 2}
                }
              }
            },
            {
              "type": "symbol",
              "from": {"data": "series"},
              "encode": {
                "enter": {
                  "x": {"scale": "x", "field": "week"},
                  "y": {"scale": "y", "field": "value"},
                  "fill": {"scale": "color", "field": "series"},
                  "size": {"value": 50},
                  "stroke": {"value": "#171719"},
                  "strokeWidth": {"value": 2}
                }
              }
            }
          ]
        }
      ],
      
      "legends": [
        {
          "stroke": "color",
          "title": null,
          "orient": "bottom",
          "direction": "horizontal",
          "symbolType": "stroke",
          "symbolStrokeWidth": 2,
          "symbolOffset": 8,
          "labelColor": "#D9D9E0",
          "labelFont": "Inter, sans-serif",
          "labelFontSize": 11,
          "labelOffset": 8,
          "offset": 20,
          "padding": 10,
          "encode": {
            "symbols": {
              "update": {
                "strokeWidth": {"value": 2}
              }
            }
          }
        }
      ]
    };

    // Chart 4: Histogram / Distribution
    const spec4 = {
      "$schema": "https://vega.github.io/schema/vega/v5.json",
      "description": "Histogram showing response time distribution",
      "width": 1000,
      "height": 300,
      "padding": {"top": 10, "left": 60, "right": 20, "bottom": 40},
      "background": "#171719",
      
      "data": [
        {
          "name": "table",
          "values": [
            {"bin": "0-50ms", "count": 1240, "binStart": 0, "binEnd": 50},
            {"bin": "50-100ms", "count": 3580, "binStart": 50, "binEnd": 100},
            {"bin": "100-150ms", "count": 2150, "binStart": 100, "binEnd": 150},
            {"bin": "150-200ms", "count": 890, "binStart": 150, "binEnd": 200},
            {"bin": "200+ms", "count": 320, "binStart": 200, "binEnd": 250}
          ]
        }
      ],
      
      "scales": [
        {
          "name": "x",
          "type": "band",
          "domain": {"data": "table", "field": "bin"},
          "range": "width",
          "padding": 0.2
        },
        {
          "name": "y",
          "type": "linear",
          "domain": {"data": "table", "field": "count"},
          "range": "height",
          "nice": true,
          "zero": true
        }
      ],
      
      "axes": [
        {
          "orient": "bottom",
          "scale": "x",
          "labelColor": "#999AA6",
          "labelFontSize": 11,
          "labelFont": "Inter, sans-serif",
          "labelPadding": 8,
          "tickColor": "#4D4E56",
          "tickSize": 5,
          "domain": false,
          "grid": false,
          "title": null
        },
        {
          "orient": "left",
          "scale": "y",
          "labelColor": "#999AA6",
          "labelFontSize": 11,
          "labelFont": "Inter, sans-serif",
          "labelPadding": 8,
          "tickColor": "#4D4E56",
          "tickSize": 5,
          "tickCount": 5,
          "domain": false,
          "grid": true,
          "gridColor": "#4D4E56",
          "gridOpacity": 0.4,
          "title": null,
          "format": "~s"
        }
      ],
      
      "marks": [
        {
          "type": "rect",
          "from": {"data": "table"},
          "encode": {
            "enter": {
              "x": {"scale": "x", "field": "bin"},
              "width": {"scale": "x", "band": 1},
              "y": {"scale": "y", "field": "count"},
              "y2": {"scale": "y", "value": 0},
              "fill": {"value": "#3B82F5"},
              "cornerRadiusTopLeft": {"value": 4},
              "cornerRadiusTopRight": {"value": 4}
            },
            "update": {
              "fillOpacity": {"value": 0.85}
            },
            "hover": {
              "fillOpacity": {"value": 1}
            }
          }
        }
      ]
    };

    // Chart 6: Status Timeline
    const spec6 = {
      "$schema": "https://vega.github.io/schema/vega/v5.json",
      "description": "Status timeline showing system health bands over time",
      "width": 1000,
      "height": 300,
      "padding": {"top": 10, "left": 60, "right": 20, "bottom": 40},
      "background": "#171719",
      
      "data": [
        {
          "name": "table",
          "values": [
            {"service": "Auth Service", "start": 0, "end": 6, "status": "Healthy", "serviceOrder": 0},
            {"service": "Auth Service", "start": 6, "end": 14, "status": "Warning", "serviceOrder": 0},
            {"service": "Auth Service", "start": 14, "end": 24, "status": "Healthy", "serviceOrder": 0},
            {"service": "API Gateway", "start": 0, "end": 10, "status": "Healthy", "serviceOrder": 1},
            {"service": "API Gateway", "start": 10, "end": 24, "status": "Healthy", "serviceOrder": 1},
            {"service": "Database", "start": 0, "end": 6, "status": "Healthy", "serviceOrder": 2},
            {"service": "Database", "start": 6, "end": 10, "status": "Warning", "serviceOrder": 2},
            {"service": "Database", "start": 10, "end": 13, "status": "Error", "serviceOrder": 2},
            {"service": "Database", "start": 13, "end": 24, "status": "Healthy", "serviceOrder": 2}
          ]
        }
      ],
      
      "scales": [
        {
          "name": "x",
          "type": "linear",
          "domain": [0, 24],
          "range": "width",
          "zero": true,
          "nice": false
        },
        {
          "name": "y",
          "type": "band",
          "domain": {"data": "table", "field": "service", "sort": {"field": "serviceOrder"}},
          "range": "height",
          "padding": 0.3
        },
        {
          "name": "color",
          "type": "ordinal",
          "domain": ["Healthy", "Warning", "Error"],
          "range": ["#22BF4A", "#F28500", "#CC3D3D"]
        }
      ],
      
      "axes": [
        {
          "orient": "top",
          "scale": "x",
          "labelColor": "#999AA6",
          "labelFontSize": 11,
          "labelFont": "Inter, sans-serif",
          "labelPadding": 8,
          "tickColor": "#999AA6",
          "tickSize": 5,
          "domain": false,
          "grid": false,
          "title": null,
          "format": "d",
          "values": [0, 6, 12, 18, 24],
          "labelExpr": "datum.value + 'h'"
        },
        {
          "orient": "left",
          "scale": "y",
          "labelColor": "#D9D9E0",
          "labelFontSize": 12,
          "labelFont": "Inter, sans-serif",
          "labelPadding": 8,
          "tickSize": 0,
          "domain": false,
          "grid": false,
          "title": null
        }
      ],
      
      "marks": [
        {
          "type": "rect",
          "from": {"data": "table"},
          "encode": {
            "enter": {
              "x": {"scale": "x", "field": "start"},
              "x2": {"scale": "x", "field": "end"},
              "y": {"scale": "y", "field": "service"},
              "height": {"scale": "y", "band": 1},
              "fill": {"scale": "color", "field": "status"},
              "fillOpacity": {"value": 0.85},
              "cornerRadius": {"value": 3}
            },
            "update": {
              "fillOpacity": {"value": 0.85},
              "stroke": {"value": null}
            },
            "hover": {
              "fillOpacity": {"value": 1},
              "stroke": {"value": "#FFFFFF"},
              "strokeWidth": {"value": 1}
            }
          }
        }
      ],
      
      "legends": [
        {
          "fill": "color",
          "title": null,
          "orient": "bottom",
          "direction": "horizontal",
          "symbolType": "square",
          "symbolSize": 100,
          "symbolOffset": 8,
          "labelColor": "#D9D9E0",
          "labelFont": "Inter, sans-serif",
          "labelFontSize": 11,
          "labelOffset": 8,
          "offset": 10
        }
      ]
    };

    // Embed all charts
    vegaEmbed('#vis1', spec1, { actions: false, tooltip: { theme: 'dark' } });
    vegaEmbed('#vis2', spec2, { actions: false, tooltip: { theme: 'dark' } });
    vegaEmbed('#vis4', spec4, { actions: false, tooltip: { theme: 'dark' } });
    vegaEmbed('#vis6', spec6, { actions: false, tooltip: { theme: 'dark' } });

    // Smooth scroll and active nav link highlighting
    document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Highlight active section in nav on scroll
    const sections = document.querySelectorAll('.chart-section');
    const navLinks = document.querySelectorAll('nav a[href^="#"]');

    window.addEventListener('scroll', () => {
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if (scrollY >= (sectionTop - 100)) {
          current = section.getAttribute('id');
        }
      });

      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${current}`) {
          link.classList.add('active');
        }
      });
    });
  </script>
</body>
</html>
